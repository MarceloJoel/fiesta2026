<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Invitados</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f4f9; padding: 20px; color: #333; }
        .container { max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        h1, h2 { text-align: center; color: #2c3e50; }
        .stats { background: #e8f4fd; padding: 10px; border-radius: 8px; margin-bottom: 20px; text-align: center; font-weight: bold; }
        input, button { width: 100%; padding: 10px; margin: 5px 0; border-radius: 6px; border: 1px solid #ccc; box-sizing: border-box; }
        button { background-color: #27ae60; color: white; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background-color: #219150; }
        .list-section { margin-top: 20px; }
        .item { display: flex; justify-content: space-between; align-items: center; padding: 8px; border-bottom: 1px solid #eee; }
        .paid { color: #27ae60; font-weight: bold; }
        .pending { color: #e67e22; }
        .delete-btn { background: #ff7675; width: auto; padding: 2px 8px; font-size: 12px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>üéâLista de Fiesta</h1>

        <div class="stats">
            Total invitados: <span id="total-count">0</span>
        </div>
        
        <input type="text" id="nameInput" placeholder="Nombre del invitado">
        <input type="text" id="payInput" placeholder="¬øCu√°nto pag√≥?">
        <button onclick="addGuest()">Agregar / Actualizar</button>

        <hr>

        <div class="list-section">
            <h3>‚úÖ Pagaron (Cuota completa: 70 soles)</h3>
            <div id="paid-list"></div>
        </div>

        <div class="list-section">
            <h3>‚è≥ Falta Pagar</h3>
            <div id="pending-list"></div>
        </div>
    </div>

    <script>
        const CUOTA_TOTAL = 70;

        let guest = [
            //Pagaron
            {name: "Juan Valdivia", paid: 70},
            { name: "Leonel Yalle", paid: 70 },
            { name: "Marcelo Rodriguez", paid: 70 },
            { name: "Erik Lapa", paid: 70 },
            { name: "Fabrizio Flores", paid: 70 },
            { name: "Harry Ayala", paid: 70 },
            { name: "Sony", paid: 70 },
            { name: "Mangel", paid: 70 },
            { name: "Shinu", paid: 70 },
            { name: "Michu", paid: 70 },
            { name: "Christian Carrasco", paid: 70 },
            //Todavia no pagaron
            { name: "Deyvid Ortega", paid: 0 },
            { name: "Edu", paid: 0 }
        ];

        function render(){
            const paidList = document.getElementById('paid-list');
            const pendingList = document.getElementById('pending-list')
            const totalCount = document.getElementById('total-count')
        

        paidList.innerHTML = '';
        pendingList.innerHTML = '';
        totalCount.innerText = guest.length;

        guest.forEach((g, index) => {
            const div = document.createElement('div');
            div.className = 'item';

            if (g.paid >= CUOTA_TOTAL) {
                div.innerHTML = `<span class="paid">${g.name}</span> <span>Completado</span>`;
                paidList.appendChild(div);
            } else {
                const missing = CUOTA_TOTAL - g.paid;
                div.innerHTML = `
                    <span class="pending">${g.name} (Falta: ${missing} S/)</span>
                    <button class="delete-btn" onclick="removeGuest(${index})">x</button>
                `;
                pendingList.appendChild(div);
            }
        });
    }

    function addGuest() {
        const name = document.getElementById('nameInput').value;
        const paid = parseFloat(document.getElementById('payInput').value) || 0;

        if (name == "") return;

        //Persona existe se actualiza
        const existing = guest.find(g => g.name.toLowerCase() === name.toLowerCase());
        if (existing) {
            existing.paid = paid;
        } else {
            guest.push({ name, paid});
        }

        render();
        document.getElementById('nameInput').value = '';
        document.getElementById('payInput').value = '';
    }

    function removeGuest(index) {
        guest.splice(index, 1);
        render();
    }


    render();
    </script>
    
</body>
</html>